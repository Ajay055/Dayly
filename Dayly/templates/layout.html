<!DOCTYPE html>

<html lang="en">
    <head>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- documentation at http://getbootstrap.com/docs/4.1/, alternative themes at https://bootswatch.com/ -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">

        <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@1,900&family=Roboto+Slab:wght@800&family=Work+Sans:wght@300&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">

        <!-- https://favicon.io/emoji-favicons/money-mouth-face/ -->
        <link href="/static/dayly.png" rel="icon">

        <link href="/static/styles.css" rel="stylesheet">
        <link href="/static/styles.sass" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
        <script src="http://yui.yahooapis.com/3.18.1/build/yui/yui-min.js"></script>
        

        <title>Dayly: {% block title %}{% endblock %}</title>
        {% block head %}{% endblock %}
    </head>

    <body>
            <div class="toptext">
                {% if session.user_id %}
                <div class="sidenav2"></div>
                <div class="sidenav">
                    <a class="main-title" ID="main-title" href="/">Dayly.</a>
                    <a class="toplink" href="/">Home</a>
                    <a class="toplink" href="/calendar">Calendar</a>
                    <a class="toplink" href="/tasks">Tasks/To-do's</a>
                    <a class="toplink" href="/notes">Notes</a>
                    <a class="toplink" href="/settings">Settings</a>
                    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
                    <a class="toplink" href="/logout">Log Out</a>
                </div>
                {% else %}
                <div class="sidenav2"></div>
                <div class="sidenav">
                    <a class="main-title" ID="main-title" href="/">Dayly.</a>
                    <a class="toplink" href="/register">Register</a>
                    <a class="toplink" href="/login">Log In</a>
                </div>
                {% endif %}
            </div>
        {% if get_flashed_messages() %}
            <header>
                <div class="alert alert-secondary border text-center" role="alert">
                    {{ get_flashed_messages() | join(" ") }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
            </header>
        {% endif %}

        <main>
            {% block main %}{% endblock %}
        </main>

        <footer class="footer">
            Created by Jordan Hilado 2020. - @jordanhilado
        </footer>
        <script>
            // Get the modal
            var modal = document.getElementById("myModal");
            
            // Get the button that opens the modal
            var btn = document.getElementById("myBtn");
            
            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];
            
            // When the user clicks the button, open the modal 
            btn.onclick = function() {
                modal.style.display = "block";
            }
            
            // When the user clicks on <span> (x), close the modal
            span.onclick = function() {
                modal.style.display = "none";
            }
            
            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
                if (event.target == modal) {
                modal.style.display = "none";
                }
            }
            
            document.querySelector('#input').onkeyup = function() {
                if (document.querySelector('#input').value === '') {
                    document.querySelector('#submit').disabled = true;
                } else {
                    document.querySelector('#submit').disabled = false;
                }
            }
            </script>

    </body>

</html>
